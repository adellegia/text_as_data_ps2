% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Text as Data Problem Set 2},
  pdfauthor={Ma Adelle Gia Arbo},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Text as Data Problem Set 2}
\author{Ma Adelle Gia Arbo}
\date{17 October 2022}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{3}
\tableofcontents
}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{i.-research-question}{%
\subsection{I. Research Question}\label{i.-research-question}}

The objective of this report is to answer the research question, ``How
did the intentions, motives, and views between Democrats and Republicans
evolve in the United States using electoral manifestos in 2012, 2016,
and 2020?'' Specifically, this report wants to answer the following
questions:

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \tightlist
  \item
    What are the prevailing topics from the United States electoral
    manifestos between the parties across the years?
  \end{enumerate}
\item
  \begin{enumerate}
  \def\labelenumi{\arabic{enumi}.}
  \setcounter{enumi}{1}
  \tightlist
  \item
    What are the differences and similarities of the prevailing topics
    between the parties across the years?
  \end{enumerate}
\end{itemize}

These questions can be answered using topic modeling, an unsupervised
machine learning method for classifying a set of documents, detecting
words and phrases, and clustering word groups that best describe a set
of documents. For the task at hand, two types of topic modeling methods
will be implemented. First is the Latent Dirichlet Allocation (LDA),
which treats each document as a mixture of topics and each topic as a
mixture of words. Structural topic modeling (STM) will also be
implemented which is similar to LDA but employs meta data about
documents and allows correlations between topics. The results of each
method will be compared to assess whether using one approach is better
and more efficient and flexible than the other. Moreover, the discussion
will include how specifying hyperparameters affect the findings.

With topic modeling, the prevailing and dominant topics in the
manifestos between Democrats and Republicans can be observed over time.
Furthermore, the differences and similarities between the parties' views
will be identified.

\hypertarget{ii.-data-collection-and-processing}{%
\subsection{II. Data Collection and
Processing}\label{ii.-data-collection-and-processing}}

The raw dataset on the United States manifestos in 2012, 2016, and 2018
is obtained from the \href{https://manifesto-project.wzb.eu/}{WZB}. The
data collection and processing of the data will be discussed in this
section. The final dataset consists a total of 12,121 documents between
the Democratic Party and Republican Party across the last three
electoral years.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# loading packages}
\ControlFlowTok{if}\NormalTok{ (}\SpecialCharTok{!}\FunctionTok{require}\NormalTok{(}\StringTok{"pacman"}\NormalTok{)) }\FunctionTok{install.packages}\NormalTok{(}\StringTok{"pacman"}\NormalTok{)}
\NormalTok{pacman}\SpecialCharTok{::}\FunctionTok{p\_load}\NormalTok{(manifestoR, quanteda, tidyr, purrr, ggplot2, }
\NormalTok{               tidytext, httr, rvest, readr, xml2, reshape2,}
\NormalTok{               stringr, stringi, dplyr, tibble, lexicon,}
\NormalTok{               NMF, topicmodels, LDAvis, stm)}
\end{Highlighting}
\end{Shaded}

In the code below, the manifestos of each party and year are downloaded
and saved into a dataframe. For ease of use, the dataset from 2000 to
2020 is already saved in the data folder so as to avoid downloading the
same data repeatedly.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# loop data collection}

\NormalTok{collect }\OtherTok{=} \ConstantTok{FALSE}

\ControlFlowTok{if}\NormalTok{ (collect }\SpecialCharTok{==} \ConstantTok{TRUE}\NormalTok{) \{}
  \FunctionTok{mp\_setapikey}\NormalTok{(}\StringTok{"manifesto\_apikey.txt"}\NormalTok{)}

\NormalTok{  mpds }\OtherTok{\textless{}{-}} \FunctionTok{mp\_maindataset}\NormalTok{()}
\NormalTok{  my\_corpus }\OtherTok{\textless{}{-}} \FunctionTok{mp\_corpus}\NormalTok{(countryname }\SpecialCharTok{==} \StringTok{"United States"} \SpecialCharTok{\&}
\NormalTok{                           edate }\SpecialCharTok{\textgreater{}} \FunctionTok{as.Date}\NormalTok{(}\StringTok{"2000{-}11{-}07"}\NormalTok{)) }\CommentTok{\#change country year}
\NormalTok{  sample }\OtherTok{\textless{}{-}}\NormalTok{ mpds }\SpecialCharTok{\%\textgreater{}\%}  
    \FunctionTok{filter}\NormalTok{(countryname }\SpecialCharTok{==} \StringTok{"United States"} \SpecialCharTok{\&} 
\NormalTok{             edate }\SpecialCharTok{\textgreater{}} \FunctionTok{as.Date}\NormalTok{(}\StringTok{"2000{-}11{-}07"}\NormalTok{))}
  
\NormalTok{  us\_df }\OtherTok{\textless{}{-}} \FunctionTok{tibble}\NormalTok{()}
  
  \ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \FunctionTok{names}\NormalTok{(my\_corpus)) \{}
\NormalTok{    doc }\OtherTok{\textless{}{-}}\NormalTok{ my\_corpus[[i]]}
\NormalTok{    doc\_df }\OtherTok{\textless{}{-}} \FunctionTok{as\_tibble}\NormalTok{(}\FunctionTok{as.data.frame}\NormalTok{(doc))}
\NormalTok{    doc\_df}\SpecialCharTok{$}\NormalTok{id }\OtherTok{\textless{}{-}}\NormalTok{ i}
\NormalTok{    us\_df }\OtherTok{\textless{}{-}} \FunctionTok{rbind}\NormalTok{(us\_df, doc\_df) }
\NormalTok{  \}}
  
\NormalTok{  us\_df }\OtherTok{\textless{}{-}}\NormalTok{ us\_df }\SpecialCharTok{\%\textgreater{}\%}
    \FunctionTok{mutate}\NormalTok{(}\AttributeTok{party =} \FunctionTok{as.numeric}\NormalTok{(}\FunctionTok{sub}\NormalTok{(}\StringTok{"\_.*"}\NormalTok{, }\StringTok{""}\NormalTok{, id)),}
           \AttributeTok{date =} \FunctionTok{as.numeric}\NormalTok{(}\FunctionTok{sub}\NormalTok{(}\StringTok{".*\_"}\NormalTok{, }\StringTok{""}\NormalTok{, id)))}
  
\NormalTok{  us\_manifestos }\OtherTok{\textless{}{-}}\NormalTok{ us\_df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{left\_join}\NormalTok{(sample[,}\DecValTok{1}\SpecialCharTok{:}\DecValTok{9}\NormalTok{], }\AttributeTok{by =} \FunctionTok{c}\NormalTok{(}\StringTok{"party"}\OtherTok{=}\StringTok{"party"}\NormalTok{, }\StringTok{"date"}\OtherTok{=}\StringTok{"date"}\NormalTok{))}

  \CommentTok{\# save data}
  \FunctionTok{write.csv}\NormalTok{(us\_manifestos, }\StringTok{"./data/us\_manifestos.csv"}\NormalTok{)}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{  us\_manifestos }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"./data/us\_manifestos.csv"}\NormalTok{)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

A total of 12,121 documents from the US manifestos for the last three
electoral years will be processed and analyzed for topic modeling with
5750 documents for the Democratic Party and 6371 documents for the
Republican Party. The frequency table is summarized below.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OtherTok{\textless{}{-}}\NormalTok{ us\_manifestos }\SpecialCharTok{\%\textgreater{}\%}  
  \FunctionTok{filter}\NormalTok{(edate }\SpecialCharTok{\textgreater{}=} \FunctionTok{as.Date}\NormalTok{(}\StringTok{"2012{-}11{-}06"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter}\NormalTok{(}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(text))}

\FunctionTok{print}\NormalTok{(}\FunctionTok{table}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{edate, df}\SpecialCharTok{$}\NormalTok{partyname))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
            
             Democratic Party Republican Party
  2012-11-06             1395             1793
  2016-11-08             1593             2289
  2020-11-03             2762             2289
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(}\FunctionTok{table}\NormalTok{( df}\SpecialCharTok{$}\NormalTok{partyname))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Democratic Party Republican Party 
            5750             6371 
\end{verbatim}

\hypertarget{iii.-topic-modeling-results-and-discussion}{%
\subsection{III. Topic Modeling Results and
Discussion}\label{iii.-topic-modeling-results-and-discussion}}

As mentioned above, the topic modeling task will involve two approaches:
LDA and STM. Since there are two parties and three years in the dataset,
it can be thought of that there are six sets of documents. For the
pre-processing task, the document-feature matrix is created for each
party and electoral year. Each dfmat is generated using the set of
documents which are tokenized by removing English stopwords and
punctuations, omitting obvious words like ``united'' and ``state'',
stemming words, and setting the minimum term frequency to 10 (also a
hyperparameter). The resulting six dfmats are appended into a single
list, \texttt{dfmat\_list}. This pre-processing task is implemented
inside the loop of the code below.

\hypertarget{latent-dirichlet-allocation}{%
\subsubsection{1. Latent Dirichlet
Allocation}\label{latent-dirichlet-allocation}}

The LDA model processes each dfmat in the \texttt{dfmat\_list} in the
loop. Each document-topics matrix (gamma) and topic-words matrix (beta)
are converted into a dataframe and are tagged to the corresponding party
and year. Each converted dataframe is appended to the previous converted
dataframe inside the loop to create a single dataframe called
\texttt{doc\_topics\_df} and \texttt{topic\_words\_df}.

\texttt{doc\_topics\_df} is a dataframe in which every document for a
particular party and year is a mixture of topics. Each document may
contain words from several topics in particular proportions. For
instance, if the number of topics (k) is set as 2, document 1 can be
80\% topic1 and 20\% topic2 while document 2 can be 40\% topic1 and 60\%
topic2.

Meanwhile, \texttt{topic\_words\_df} is a dataframe in which every topic
for a specific party and year is a mixture of words. For example, a
two-topic model of US manifestos of the Republican Party in 2020 can
have one topic about economic growth and another on healthcare. The most
common words for the economic growth topic can be ``GDP'',
``development'', ``inflation'', while the healthcare topic can be
``covid'', ``pandemic'', and ``health''. It must be noted that words can
be shared between topics in LDA.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# loop create dfmat and LDA by party and year}

\NormalTok{LDA }\OtherTok{=} \ConstantTok{TRUE}

\ControlFlowTok{if}\NormalTok{ (LDA }\SpecialCharTok{==} \ConstantTok{TRUE}\NormalTok{) \{}
\NormalTok{  dfmat\_list }\OtherTok{\textless{}{-}} \FunctionTok{list}\NormalTok{()}
\NormalTok{  doc\_topics\_df }\OtherTok{\textless{}{-}} \FunctionTok{tibble}\NormalTok{()}
\NormalTok{  topic\_words\_df }\OtherTok{\textless{}{-}} \FunctionTok{tibble}\NormalTok{()}
\NormalTok{  omit\_words }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"united"}\NormalTok{, }\StringTok{"state"}\NormalTok{, }\StringTok{"democrat"}\NormalTok{, }\StringTok{"republican"}\NormalTok{,}
                     \StringTok{"american"}\NormalTok{, }\StringTok{"america"}\NormalTok{, }\StringTok{"u.s"}\NormalTok{)}
  
  \CommentTok{\# create dfmat}
  \ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \FunctionTok{unique}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{edate)) \{}
    \ControlFlowTok{for}\NormalTok{ (j }\ControlFlowTok{in} \FunctionTok{unique}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{partyname)) \{}
\NormalTok{      df1 }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%}
      \FunctionTok{filter}\NormalTok{(partyname }\SpecialCharTok{==}\NormalTok{ j }\SpecialCharTok{\&}\NormalTok{ edate }\SpecialCharTok{==} \FunctionTok{as.Date}\NormalTok{(i))}
    
\NormalTok{      dfmat }\OtherTok{\textless{}{-}}\NormalTok{  df1}\SpecialCharTok{$}\NormalTok{text }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{tokens}\NormalTok{(}\AttributeTok{remove\_punct =}\NormalTok{ T) }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{tokens\_remove}\NormalTok{(}\AttributeTok{pattern=}\FunctionTok{stopwords}\NormalTok{(}\StringTok{"en"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{tokens\_remove}\NormalTok{(omit\_words) }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{tokens\_wordstem}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{dfm}\NormalTok{()  }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{dfm\_trim}\NormalTok{(}\AttributeTok{min\_termfreq =} \DecValTok{10}\NormalTok{) }
    
\NormalTok{      raw.sum}\OtherTok{=}\FunctionTok{apply}\NormalTok{(dfmat,}\DecValTok{1}\NormalTok{,}\AttributeTok{FUN=}\NormalTok{sum)}
\NormalTok{      dfmat}\OtherTok{=}\NormalTok{dfmat[raw.sum}\SpecialCharTok{!=}\DecValTok{0}\NormalTok{,]}
      
      \FunctionTok{print}\NormalTok{(}\FunctionTok{sprintf}\NormalTok{(}\StringTok{"Created (\%s, \%s) dfmat using \%s manifestos of the \%s"}\NormalTok{, }
                   \FunctionTok{dim}\NormalTok{(dfmat)[}\DecValTok{1}\NormalTok{], }\FunctionTok{dim}\NormalTok{(dfmat)[}\DecValTok{2}\NormalTok{], }\FunctionTok{format}\NormalTok{(}\FunctionTok{as.Date}\NormalTok{(i), }\AttributeTok{format =} \StringTok{"\%Y"}\NormalTok{), j))}
      
\NormalTok{      dfmat\_list }\OtherTok{\textless{}{-}} \FunctionTok{append}\NormalTok{(dfmat\_list, dfmat)}
      
      
      \CommentTok{\# LDA model}
      \FunctionTok{print}\NormalTok{(}\FunctionTok{sprintf}\NormalTok{(}\StringTok{"Starting LDA model using \%s manifestos of the \%s"}\NormalTok{, }
                    \FunctionTok{format}\NormalTok{(}\FunctionTok{as.Date}\NormalTok{(i), }\AttributeTok{format =} \StringTok{"\%Y"}\NormalTok{), j))}
      
\NormalTok{      lda }\OtherTok{\textless{}{-}} \FunctionTok{LDA}\NormalTok{(dfmat, }\AttributeTok{control=}\FunctionTok{list}\NormalTok{(}\AttributeTok{seed=}\DecValTok{28}\NormalTok{), }\AttributeTok{k=}\DecValTok{10}\NormalTok{) }\CommentTok{\# change num of topics}
  
\NormalTok{      W }\OtherTok{\textless{}{-}}\NormalTok{ lda}\SpecialCharTok{@}\NormalTok{gamma }\CommentTok{\# document{-}topic}
\NormalTok{      H }\OtherTok{\textless{}{-}}\NormalTok{ lda}\SpecialCharTok{@}\NormalTok{beta }\CommentTok{\# topic{-}term}
      
\NormalTok{      doc\_topics }\OtherTok{\textless{}{-}} \FunctionTok{tidy}\NormalTok{(lda, }\AttributeTok{matrix=}\StringTok{"gamma"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{mutate}\NormalTok{(}\AttributeTok{date =}\NormalTok{ i, }\AttributeTok{partyname =}\NormalTok{ j)}
\NormalTok{      doc\_topics\_df }\OtherTok{\textless{}{-}} \FunctionTok{rbind}\NormalTok{(doc\_topics\_df, doc\_topics)}
      
      
\NormalTok{      topic\_words }\OtherTok{\textless{}{-}} \FunctionTok{tidy}\NormalTok{(lda, }\AttributeTok{matrix=}\StringTok{"beta"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{mutate}\NormalTok{(}\AttributeTok{date =}\NormalTok{ i, }\AttributeTok{partyname =}\NormalTok{ j)}
\NormalTok{      topic\_words\_df }\OtherTok{\textless{}{-}} \FunctionTok{rbind}\NormalTok{(topic\_words\_df, topic\_words)}
      
      \FunctionTok{print}\NormalTok{(}\FunctionTok{sprintf}\NormalTok{(}\StringTok{"Finished LDA model using \%s manifestos of the \%s"}\NormalTok{, }
                    \FunctionTok{format}\NormalTok{(}\FunctionTok{as.Date}\NormalTok{(i), }\AttributeTok{format =} \StringTok{"\%Y"}\NormalTok{), j))}
\NormalTok{    \}}
\NormalTok{  \}}
  \FunctionTok{write.csv}\NormalTok{(doc\_topics\_df, }\StringTok{"./data/doc\_topics.csv"}\NormalTok{)}
  \FunctionTok{write.csv}\NormalTok{(topic\_words\_df, }\StringTok{"./data/topic\_words.csv"}\NormalTok{)}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
\NormalTok{  doc\_topics\_df }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"./data/doc\_topics.csv"}\NormalTok{)}
\NormalTok{  topic\_words\_df }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"./data/topic\_words.csv"}\NormalTok{)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "Created (1386, 354) dfmat using 2012 manifestos of the Democratic Party"
[1] "Starting LDA model using 2012 manifestos of the Democratic Party"
[1] "Finished LDA model using 2012 manifestos of the Democratic Party"
[1] "Created (1760, 444) dfmat using 2012 manifestos of the Republican Party"
[1] "Starting LDA model using 2012 manifestos of the Republican Party"
[1] "Finished LDA model using 2012 manifestos of the Republican Party"
[1] "Created (1562, 384) dfmat using 2016 manifestos of the Democratic Party"
[1] "Starting LDA model using 2016 manifestos of the Democratic Party"
[1] "Finished LDA model using 2016 manifestos of the Democratic Party"
[1] "Created (2238, 516) dfmat using 2016 manifestos of the Republican Party"
[1] "Starting LDA model using 2016 manifestos of the Republican Party"
[1] "Finished LDA model using 2016 manifestos of the Republican Party"
[1] "Created (2721, 599) dfmat using 2020 manifestos of the Democratic Party"
[1] "Starting LDA model using 2020 manifestos of the Democratic Party"
[1] "Finished LDA model using 2020 manifestos of the Democratic Party"
[1] "Created (2238, 516) dfmat using 2020 manifestos of the Republican Party"
[1] "Starting LDA model using 2020 manifestos of the Republican Party"
[1] "Finished LDA model using 2020 manifestos of the Republican Party"
\end{verbatim}

In topic modeling, the number of topics is considered as a
hyperparameter as it affects the resulting topics. A hyperparameter is a
parameter that is external to the model and is used to control the
learning process. For example, a higher number of topics allows the
identification of a more diverse and specific set of topics. In
contrast, by decreasing this hyperparameter, the model can identify more
general topics given the set of documents. In the LDA model below, the
number of topics is arbitrarily set to 10. It must also be noted that
the LDA model returns different results unless the \texttt{contol} is
fixed by setting a similar seed every time the code is run.

After investigating the document-topics matrix, a 10-topic model
identifies that each topic account for more or less than 10\% per
document. For example, the table below shows the share of each
identified topic from the 2012 Democrats manifesto. Note that each
manifesto of a party in a given electoral year is fed into the LDA model
separately.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{doc\_topics\_df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{arrange}\NormalTok{(document, date, partyname) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{topic\_share =} \FunctionTok{round}\NormalTok{(gamma,}\DecValTok{3}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(date, partyname, document, topic, topic\_share) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{head}\NormalTok{(}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 10 x 5
   date       partyname        document topic topic_share
   <chr>      <chr>            <chr>    <int>       <dbl>
 1 2012-11-06 Democratic Party text1        1       0.099
 2 2012-11-06 Democratic Party text1        2       0.099
 3 2012-11-06 Democratic Party text1        3       0.1  
 4 2012-11-06 Democratic Party text1        4       0.102
 5 2012-11-06 Democratic Party text1        5       0.1  
 6 2012-11-06 Democratic Party text1        6       0.1  
 7 2012-11-06 Democratic Party text1        7       0.1  
 8 2012-11-06 Democratic Party text1        8       0.1  
 9 2012-11-06 Democratic Party text1        9       0.099
10 2012-11-06 Democratic Party text1       10       0.1  
\end{verbatim}

Now, to investigate the underlying topics in each party's manifestos in
the three recent electoral years, the results are plotted showing the
top 10 terms with the highest per-topic-per-word probabilities in the
topic. The \texttt{topic\_words\_df} is first tidied for plotting with
\texttt{ggplot}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{topic\_words\_df1 }\OtherTok{\textless{}{-}}\NormalTok{ topic\_words\_df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{year =} \FunctionTok{format}\NormalTok{(}\FunctionTok{as.Date}\NormalTok{(date), }\AttributeTok{format =} \StringTok{"\%Y"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{party =} \FunctionTok{ifelse}\NormalTok{(partyname }\SpecialCharTok{==} \StringTok{"Republican Party"}\NormalTok{, }\StringTok{"Republicans"}\NormalTok{, }\StringTok{"Democrats"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{group =} \FunctionTok{paste0}\NormalTok{(year, }\StringTok{" "}\NormalTok{, party),}
         \AttributeTok{color =} \FunctionTok{ifelse}\NormalTok{(party }\SpecialCharTok{==} \StringTok{"Democrats"}\NormalTok{, }\StringTok{"\#2c7fb8"}\NormalTok{, }\StringTok{"\#de2d26"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{group\_by}\NormalTok{(topic, date, year, partyname) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{slice\_max}\NormalTok{(beta, }\AttributeTok{n =} \DecValTok{10}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{ungroup}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{arrange}\NormalTok{(date, topic, partyname, }\SpecialCharTok{{-}}\NormalTok{beta)}
\end{Highlighting}
\end{Shaded}

For the interpretation of results, it must be reiterated that LDA topic
modeling is performed for each of the 6 sets of documents or manifesto
per party and year. This means that topic 1 revealed from the 2012
Democrats' manifesto is unique to the ``topic 1'' identified from 2012
Republicans' manifesto and to ``topic 1'' from 2016 Democrats' manifesto
and so on. Thus, each bar chart of top terms of topics per party and
year will be interpreted separately, and the underlying topics will be
compared later.

This section will now discuss the prevailing topics of the manifestos
between the Democratic Party and the Republican Party for the electoral
years 2012, 2016, and 2020.

\hypertarget{obama-vs.-romney}{%
\paragraph{2012: Obama vs.~Romney}\label{obama-vs.-romney}}

In 2012, Democrats' manifesto appear to show Obama's focus on health
care in topic 3, which was coined as ``Obamacare'' during Obama's term.
Topic 7 seems to be about the tax scheme concerning middle class. Topic
9 pertains to the US economy. After suffering from the effects of
recession which displaced many due to the housing bubble and mortgage
crisis, the Democratic party during the 2012 elections espouses a
comprehensive social protection program. It aims to expand health care
(topic 3), provide jobs (topic 8), and generate businesses towards
economic recovery (topic 9).

On the other hand, the Republican party doubles down on effective
governance wherein they stress the importance of federalism, which is
identified in topic 1 and 3. This is enshrined in the US Constitution
supporting devolution of governance at the state-level and small
government at the federal level. Topic 5 tackles education with words
like ``support'', ``school'', ``right'', and ``need''.

\hypertarget{clinton-vs.-trump}{%
\paragraph{2016: Clinton vs.~Trump}\label{clinton-vs.-trump}}

As America recovered and continued to progress from the recession, the
Democrats during the 2016 elections acknowledged that such growth cannot
be sustained if it is not shared equitably. In the plot, the prevailing
topics from Democrats' manifesto appear to focus on health policies as
well as seen in topic 2 and 5. Major policy reforms sought for the
protection of the vulnerable sectors of society such as women and
workers as seen in topic 3 with words like ``support'', ``work'', and
``protect''. Another topic is revealed in 8 regarding education with
words like ``student'' and ``school'' on promoting student support. The
same can be said for topic 6 on educational support.

The Republican party on the other hand targeted their policies that hit
much closer to home as the party revealed the vulnerabilities of the
last administration wherein although recovered from the recession,
American families continue to be deprived of services, support, and
opportunities. This is embodied in topic 1 with words like ``protect'',
``ensure'', and ``support''. Similar to Democrats, topic 4 is about
education rights with ``educ'', ``children'', and ``famili''.
Republicans are calling for government to take boost and support law
enforcement authorities so they protect American families which calls
for more policing and protection. Furthermore, like in 2012, federalism
is still an underlying topic in their manifesto as revealed in topic 7
and 10.

\hypertarget{biden-vs.-trump}{%
\paragraph{2020: Biden vs.~Trump}\label{biden-vs.-trump}}

As expected, most topics revolve around health due to COVID-19 in the
Democrats' manifesto as in topic 8 and 10. Topic 10 is specifically
about health workers. Topic 5 is about access to education which can be
inferred from words ``support'', ``access'', ``fund'', ``increase'', and
``student''. Topic 9 conveys a similar topic but can be more particular
on back-to-school policies amid the health crisis. For the first time,
the term ``women'' and ``right'' appeared in topic 7 which is identified
to be on women rights.

Similarly, Republicans focused on education (topic 4) as well as public
health (topic 5). Furthermore, federalism is again a topic in in topic 7
and 10.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \FunctionTok{unique}\NormalTok{(topic\_words\_df1}\SpecialCharTok{$}\NormalTok{group))\{}
\NormalTok{    p}\OtherTok{\textless{}{-}}\NormalTok{topic\_words\_df1 }\SpecialCharTok{\%\textgreater{}\%}
      \FunctionTok{filter}\NormalTok{(group }\SpecialCharTok{==}\NormalTok{ i) }\SpecialCharTok{\%\textgreater{}\%}
      \FunctionTok{mutate}\NormalTok{(}\AttributeTok{term =} \FunctionTok{reorder\_within}\NormalTok{(term, beta, topic)) }\SpecialCharTok{\%\textgreater{}\%}
      \FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(beta, term, }\AttributeTok{fill =}\NormalTok{ color)) }\SpecialCharTok{+}
      \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{stat=}\StringTok{"identity"}\NormalTok{, }\AttributeTok{width =}\NormalTok{ .}\DecValTok{5}\NormalTok{) }\SpecialCharTok{+}
      \FunctionTok{facet\_wrap}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{ topic, }\AttributeTok{scales =} \StringTok{"free"}\NormalTok{, }\AttributeTok{ncol=}\DecValTok{4}\NormalTok{) }\SpecialCharTok{+} 
      \FunctionTok{xlim}\NormalTok{(}\DecValTok{0}\NormalTok{, }\FloatTok{0.08}\NormalTok{) }\SpecialCharTok{+}
      \FunctionTok{scale\_y\_reordered}\NormalTok{() }\SpecialCharTok{+}
      \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =}\NormalTok{ i) }\SpecialCharTok{+}
      \FunctionTok{scale\_fill\_identity}\NormalTok{() }\SpecialCharTok{+}
      \FunctionTok{theme\_test}\NormalTok{() }\SpecialCharTok{+}
      \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.y =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{8}\NormalTok{),}
            \AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{8}\NormalTok{),}
            \AttributeTok{strip.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{8}\NormalTok{)) }\SpecialCharTok{+}
    \FunctionTok{labs}\NormalTok{(}\AttributeTok{y =} \StringTok{"term"}\NormalTok{, }\AttributeTok{x =} \StringTok{"term probability per topic"}\NormalTok{) }
    \FunctionTok{print}\NormalTok{(p)}
    \FunctionTok{ggsave}\NormalTok{(}\FunctionTok{paste0}\NormalTok{(}\StringTok{"./plots/lda\_"}\NormalTok{,i, }\StringTok{".png"}\NormalTok{))}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-8-1.pdf}
\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-8-2.pdf}
\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-8-3.pdf}
\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-8-4.pdf}
\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-8-5.pdf}
\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-8-6.pdf}

\hypertarget{structural-topic-modeling}{%
\subsubsection{2. Structural Topic
Modeling}\label{structural-topic-modeling}}

In this section, structural topic model will be implemented using the
\texttt{stm} package. STM offers more flexibility in the analysis such
as explicitly modeling which variables influence the prevalence of
topics. It also allows for topic correlation which will be shown later.

To start STM, each document-feature matrix which were created in the
code above is converted to a \texttt{stm} format then STM is applied to
identify 15 topics in the loop. For this task, the number of topics is
arbitrarily chosen to be 15 since decreasing the number of topics
results to longer time for the model to converge. The results of the
model for each set of documents is saved as a list in
\texttt{model\_list}, so that it can easily be called later on.

Similar to the task that was done in LDA, each set of documents or
manifesto of a party in a given electoral year is fed into STM, giving
six separate results. In STM, the hyperparameter number of topics is set
to 15. To visualize these results, a built-in function of the
\texttt{stm} package allows for topic exploration to analyze the
topic-words matrix. With \texttt{plot.STM}, the topic distribution is
shown together with the most common words for each topic in one plot.

This is basically similar to the topic exploration that was done with
LDA but the plots are easier to interpret as it is arranged by the
expected topic proportions and with the top common words already
provided for each topic.

In the next discussion, the results will be interpreted based on the top
3 topics of each manifesto of a party in an electoral year with the
three most common words in that topic. (See Appendix 1 for the plots
showing the top 5 most common word for all 15 topic per manifesto.)

\hypertarget{obama-vs.-romney-1}{%
\paragraph{2012: Obama vs.~Romney}\label{obama-vs.-romney-1}}

Starting with the Democrats' manifesto, the three main topics relate to
proposed institutional reforms (topic 6), job creation (topic 9), and
healthcare (topic 8). This result is quite similar to what was found in
LDA. Meanwhile, Republicans focus on topics relating to federalism
(topic 14) with words like ``constitution'' and ``power'' like in LDA.
One topic that first appeared here is on tech regulation (topic 2).

\hypertarget{clinton-vs.-trump-1}{%
\paragraph{2016: Clinton vs.~Trump}\label{clinton-vs.-trump-1}}

In 2016, for the Democratic party, topic 14 relates to tax policies
(topic 14) and job creation (topic 8). For the Republican party, topics
again are about federalism and legal framework (topic 4, 5, 3).

\hypertarget{biden-vs.-trump-1}{%
\paragraph{2020: Biden vs.~Trump}\label{biden-vs.-trump-1}}

Finally, in 2020, the Democratic Party tackled health policies to combat
covid-19 pandemic (topic 11) as well as topics on human rights (topic
13). On the other hand, the \texttt{stm} results identified similar
topics on federalism and law as in the 2016 manifesto for the Republican
party.

\hypertarget{women-rights}{%
\subsubsection{Women rights}\label{women-rights}}

Another relevant topic of the results of STM is on women rights. Both
women violence appeared as a topic in 2012 Democrats' and Republicans'
manifestos. It is also again a prevailing topic by Democrats in 2016 and
2020 and is associated with health and safety and gun violence,
respectively. (See Appendix 2)

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow=}\FunctionTok{c}\NormalTok{(}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#de2d26"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{3}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{6}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{3}\NormalTok{, }\AttributeTok{main =} \StringTok{"2020 Republicans"}\NormalTok{, }
     \AttributeTok{topics=}\FunctionTok{c}\NormalTok{(}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{3}\NormalTok{), }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{, }\AttributeTok{width=}\DecValTok{30}\NormalTok{, }\AttributeTok{cex.main =}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#2c7fb8"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{3}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{5}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{3}\NormalTok{, }\AttributeTok{main =} \StringTok{"2020 Democrats"}\NormalTok{, }
     \AttributeTok{topics=}\FunctionTok{c}\NormalTok{(}\DecValTok{3}\NormalTok{, }\DecValTok{11}\NormalTok{, }\DecValTok{13}\NormalTok{), }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{, }\AttributeTok{width=}\DecValTok{30}\NormalTok{, }\AttributeTok{cex.main =}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#de2d26"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{3}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{4}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{3}\NormalTok{, }\AttributeTok{main =} \StringTok{"2016 Republicans"}\NormalTok{, }
     \AttributeTok{topics=}\FunctionTok{c}\NormalTok{(}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{3}\NormalTok{), }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{, }\AttributeTok{width=}\DecValTok{30}\NormalTok{, }\AttributeTok{cex.main =}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#2c7fb8"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{3}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{3}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{3}\NormalTok{, }\AttributeTok{main =} \StringTok{"2016 Democrats"}\NormalTok{, }
     \AttributeTok{topics=}\FunctionTok{c}\NormalTok{(}\DecValTok{12}\NormalTok{,}\DecValTok{14}\NormalTok{,}\DecValTok{8}\NormalTok{), }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{, }\AttributeTok{width=}\DecValTok{30}\NormalTok{, }\AttributeTok{cex.main =}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#de2d26"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{3}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{2}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{3}\NormalTok{, }\AttributeTok{main =} \StringTok{"Republicans 2012"}\NormalTok{, }
    \AttributeTok{topics=}\FunctionTok{c}\NormalTok{(}\DecValTok{14}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{2}\NormalTok{), }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{, }\AttributeTok{width=}\DecValTok{30}\NormalTok{, }\AttributeTok{cex.main =}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#2c7fb8"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{3}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{1}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{3}\NormalTok{, }\AttributeTok{main =} \StringTok{"2012 Democrats"}\NormalTok{, }
     \AttributeTok{topics=}\FunctionTok{c}\NormalTok{(}\DecValTok{6}\NormalTok{,}\DecValTok{9}\NormalTok{,}\DecValTok{8}\NormalTok{), }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{, }\AttributeTok{width=}\DecValTok{30}\NormalTok{, }\AttributeTok{cex.main =}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-10-1.pdf}

\hypertarget{iv.-conclusion}{%
\subsection{IV. Conclusion}\label{iv.-conclusion}}

The findings show that the Democratic Party's manifestos have focused on
public health policies even prior to the COVID-19 pandemic. Meanwhile,
the Republican Party have constantly mentioned topics relating to
federalism in their manifestos. Throughout the years, both parties have
campaigned for educational rights, access to school, and student
support. The relevant topic on human rights, gun violence, and women
safety are also identified in both parties' manifestos.

Moreover, the results between LDA and STM have shown to be consistent.
For example, both approach identified topics on healthcare, job
creation, and reforms for the Democratic Party in 2012. In addition, the
topic on federalism was also revealed in both topic modeling methods for
the Republican Party. Both approach were able to identify clear topics
but using STM showed more flexibility and efficiency in the analysis.

With topic modeling, this report was able to answer the research
question on how the intentions, motives, and views between Democrats and
Republicans have evolved in the United States using electoral manifestos
in 2012, 2016, and 2020. A more detailed discussion on the topic
modeling pipeline, hyperparameter tuning, and research recommendation is
discussed in the next section.

\hypertarget{v.-research-recommendation}{%
\subsection{V. Research
Recommendation}\label{v.-research-recommendation}}

\hypertarget{modify-data-processing-pipeline}{%
\subsubsection{Modify data processing
pipeline}\label{modify-data-processing-pipeline}}

One main recommendation to answer the research questions is to
reconsider how the data was processed and used for topic modeling. As
the research question deals with a time series type of data for three
electoral years, he total 12,121 documents can be fed into the topic
model as a whole with k =10, instead of feeding each of the 6 sets of
documents or manifesto per party and year separately. The results of the
single approach can be merged with the original dataset to tag the
document-topics matrix with the corresponding party and year.

With this approach, the share of topics can be plotted between Democrats
and Republicans over time as shown in the plot below.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df2 }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{document =} \FunctionTok{paste0}\NormalTok{(}\StringTok{"text"}\NormalTok{,}\DecValTok{1}\SpecialCharTok{:}\FunctionTok{nrow}\NormalTok{(df))) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter}\NormalTok{(}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(text))}

\NormalTok{dfmat2 }\OtherTok{\textless{}{-}}\NormalTok{  df2}\SpecialCharTok{$}\NormalTok{text }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{tokens}\NormalTok{(}\AttributeTok{remove\_punct =}\NormalTok{ T) }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{tokens\_remove}\NormalTok{(}\AttributeTok{pattern=}\FunctionTok{stopwords}\NormalTok{(}\StringTok{"en"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{tokens\_remove}\NormalTok{(omit\_words) }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{tokens\_wordstem}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{dfm}\NormalTok{()  }\SpecialCharTok{\%\textgreater{}\%}
        \FunctionTok{dfm\_trim}\NormalTok{(}\AttributeTok{min\_termfreq =} \DecValTok{10}\NormalTok{)}
\NormalTok{raw.sum}\OtherTok{=}\FunctionTok{apply}\NormalTok{(dfmat2,}\DecValTok{1}\NormalTok{,}\AttributeTok{FUN=}\NormalTok{sum)}
\NormalTok{dfmat2}\OtherTok{=}\NormalTok{dfmat2[raw.sum}\SpecialCharTok{!=}\DecValTok{0}\NormalTok{,]}

\NormalTok{lda2 }\OtherTok{\textless{}{-}} \FunctionTok{LDA}\NormalTok{(dfmat2, }\AttributeTok{control=}\FunctionTok{list}\NormalTok{(}\AttributeTok{seed=}\DecValTok{28}\NormalTok{), }\AttributeTok{k=}\DecValTok{10}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{doc\_topics2 }\OtherTok{\textless{}{-}} \FunctionTok{tidy}\NormalTok{(lda2, }\AttributeTok{matrix=}\StringTok{"gamma"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{left\_join}\NormalTok{(df2, }\AttributeTok{by=}\StringTok{"document"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(}\FunctionTok{c}\NormalTok{(document, topic, gamma, partyname, date, edate)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{year =} \FunctionTok{format}\NormalTok{(}\FunctionTok{as.Date}\NormalTok{(edate), }\AttributeTok{format =} \StringTok{"\%Y"}\NormalTok{))}

\NormalTok{yp\_topics }\OtherTok{\textless{}{-}}\NormalTok{ doc\_topics2 }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(year, partyname, topic) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarise}\NormalTok{(}\AttributeTok{gamma =} \FunctionTok{sum}\NormalTok{(gamma)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(year, partyname,) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{year\_share =}\NormalTok{ gamma}\SpecialCharTok{/}\FunctionTok{sum}\NormalTok{(gamma)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{ungroup}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{topic =} \FunctionTok{factor}\NormalTok{(topic))}

\NormalTok{yp\_topics }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{topic, }\AttributeTok{y =}\NormalTok{ year\_share, }\AttributeTok{group =}\NormalTok{ partyname, }\AttributeTok{color =}\NormalTok{ partyname)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_color\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"\#2c7fb8"}\NormalTok{, }\StringTok{"\#de2d26"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{theme\_bw}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{facet\_wrap}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{year, }\AttributeTok{ncol=}\DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{"topic"}\NormalTok{, }\AttributeTok{y =} \StringTok{"topic share"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-12-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}\FunctionTok{paste0}\NormalTok{(}\StringTok{"./plots/lda\_year\_party.png"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Moreover, since the 10 topics are consistent across all manifestos, the
prevalent topics can be easily identified using the single topic-words
matrix from all manifestos. In this way, the same topics can be plotted
across time and can be compared between parties. The plot above can then
be easily associated with the topics identified in the plot below.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{topic\_words2 }\OtherTok{\textless{}{-}} \FunctionTok{tidy}\NormalTok{(lda2, }\AttributeTok{matrix=}\StringTok{"beta"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(topic) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{slice\_max}\NormalTok{(beta, }\AttributeTok{n =} \DecValTok{10}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{ungroup}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{arrange}\NormalTok{(topic, }\SpecialCharTok{{-}}\NormalTok{beta)}

\NormalTok{topic\_words2 }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{term =} \FunctionTok{reorder\_within}\NormalTok{(term, beta, topic)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(beta, term, }\AttributeTok{fill =} \StringTok{"grey40"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{stat=}\StringTok{"identity"}\NormalTok{, }\AttributeTok{width =}\NormalTok{ .}\DecValTok{5}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{facet\_wrap}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{ topic, }\AttributeTok{scales =} \StringTok{"free"}\NormalTok{, }\AttributeTok{ncol=}\DecValTok{5}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{scale\_y\_reordered}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_identity}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme\_test}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{y =} \StringTok{"term"}\NormalTok{, }\AttributeTok{x =} \StringTok{"term probability per topic (beta)"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.y =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{7}\NormalTok{),}
        \AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{7}\NormalTok{),}
        \AttributeTok{strip.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{6}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{guide =} \FunctionTok{guide\_axis}\NormalTok{(}\AttributeTok{angle =} \DecValTok{45}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-13-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}\FunctionTok{paste0}\NormalTok{(}\StringTok{"./plots/lda\_year\_party\_topics.png"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Although the approach described makes the analysis and data
visualization much simpler, the pipeline adopted in this report also has
its own advantage as it already assumes that the time and party
variables have an (correlational) effect on the topics in each
manifesto. This makes the resulting set of topics revealed independent
per set of documents.

Furthermore, extending the number timeframe of the dataset can reveal
and understand the evolution of topics further. Initially, five
electoral years were considered for analysis but unfortunately, the data
for the Democratic Party in 2008 only contained one document. Due to
this, the analysis was limited on the three recent electoral years but
this can be resolved by processing the data so that each row will
consist of each line in the manifesto.

\hypertarget{hyperparameter-tuning}{%
\subsubsection{Hyperparameter tuning}\label{hyperparameter-tuning}}

Another recommendation is to use hyperparameter tuning to best identify
the number number of topics, k, for topic modeling. For this report, k
is only arbitrarilty chosen, but for future reserach the number of
topics should be decided based on statistical fit and interpretability
of topics. K determines the values of gamma and beta wherein low values
of gamma indicate documents should be composed of few topics and low
values of beta indicate topics should be composed of few terms.

\hypertarget{further-topic-exploration}{%
\subsubsection{Further topic
exploration}\label{further-topic-exploration}}

Finally, as discussed above, exploring STM and the functions of the
\texttt{stm} package such as computing the correlations betweeen topics,
topic estimates of document-topic proportions, and examining the
exclusivity vs.~semantic coherence (See Appendix 2).

\hypertarget{vi.-appendix}{%
\subsection{VI. Appendix}\label{vi.-appendix}}

\hypertarget{stm-functions}{%
\subsubsection{1. STM functions}\label{stm-functions}}

The \texttt{stm} library also offers more builtin functions than
\texttt{lda}. For example, the top words of the 2012 Democratic Party's
manifesto is printed below by the highest conditional probability for
each topic. FREX shows which words are comparatively common for a topic
and exclusive for that topic compared to other topics. This will be used
to make the interpretation of each topic more unique to each other.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{labelTopics}\NormalTok{(model\_list[[}\DecValTok{1}\NormalTok{]])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Topic 1 Top Words:
     Highest Prob: peopl, right, democrat, also, nation, american, parti 
     FREX: right, peac, peopl, understand, recogn, live, univers 
     Lift: univers, understand, recogn, peac, israel, scienc, live 
     Score: univers, right, understand, peopl, peac, recogn, israel 
Topic 2 Top Words:
     Highest Prob: presid, obama, rule, strengthen, govern, financi, economi 
     FREX: rule, strengthen, took, wall, play, financi, place 
     Lift: wall, transpar, rule, place, account, took, strengthen 
     Score: wall, rule, everyon, obama, presid, took, strengthen 
Topic 3 Top Words:
     Highest Prob: world, middl, class, make, polici, back, us 
     FREX: middl, polici, class, world, progress, foreign, us 
     Lift: foreign, polici, progress, middl, class, allianc, world 
     Score: foreign, fail, class, middl, world, polici, us 
Topic 4 Top Words:
     Highest Prob: law, women, act, support, effort, protect, oppos 
     FREX: law, oppos, women, violenc, enforc, act, equal 
     Lift: enforc, equal, violenc, oppos, respect, law, freedom 
     Score: enforc, law, women, equal, violenc, act, oppos 
Topic 5 Top Words:
     Highest Prob: help, must, ensur, strong, worker, free, work 
     FREX: strong, free, must, help, poverti, ensur, labor 
     Lift: labor, free, strong, maintain, citi, must, poverti 
     Score: labor, must, strong, help, free, safeti, poverti 
Topic 6 Top Words:
     Highest Prob: support, invest, continu, reform, provid, democrat, fight 
     FREX: invest, reform, institut, infrastructur, provid, support, standard 
     Lift: financ, standard, process, institut, infrastructur, train, invest 
     Score: financ, support, reform, invest, infrastructur, provid, institut 
Topic 7 Top Words:
     Highest Prob: secur, new, america, chang, region, build, reduc 
     FREX: chang, america, secur, climat, region, partnership, build 
     Lift: climat, chang, practic, emerg, africa, natur, partnership 
     Score: climat, chang, secur, global, trade, america, region 
Topic 8 Top Words:
     Highest Prob: health, care, famili, busi, access, work, veteran 
     FREX: care, health, credit, insur, veteran, access, busi 
     Lift: abl, compani, mortgag, care, insur, credit, health 
     Score: abl, health, care, credit, insur, busi, compani 
Topic 9 Top Words:
     Highest Prob: job, creat, year, million, program, student, home 
     FREX: creat, million, job, student, year, good, program 
     Lift: loan, million, creat, student, thousand, good, job 
     Score: loan, job, creat, million, student, year, save 
Topic 10 Top Words:
     Highest Prob: commit, presid, obama, end, war, nuclear, romney 
     FREX: war, end, commit, mitt, weapon, romney, iraq 
     Lift: hiv, mitt, war, weapon, end, iraq, romney 
     Score: hiv, commit, war, end, weapon, mitt, romney 
Topic 11 Top Words:
     Highest Prob: presid, tax, cut, work, obama, administr, pay 
     FREX: cut, pay, tax, first, relief, bill, strategi 
     Lift: strategi, pay, bill, cut, first, relief, sign 
     Score: strategi, tax, cut, pay, first, obama, presid 
Topic 12 Top Words:
     Highest Prob: state, time, move, forward, togeth, continu, step 
     FREX: forward, move, time, togeth, puerto, status, face 
     Lift: forward, status, puerto, rico, move, togeth, face 
     Score: forward, move, status, puerto, rico, togeth, time 
Topic 13 Top Words:
     Highest Prob: countri, communiti, need, econom, take, made, intern 
     FREX: countri, need, communiti, great, restor, serv, take 
     Lift: serv, centuri, 21st, countri, restor, contribut, great 
     Score: serv, countri, communiti, need, safe, centuri, great 
Topic 14 Top Words:
     Highest Prob: public, advanc, innov, organ, technolog, threat, nation 
     FREX: organ, innov, advanc, network, public, technolog, traffick 
     Lift: traffick, network, terrorist, drug, crimin, organ, innov 
     Score: traffick, network, public, crimin, terrorist, organ, al-qaeda 
Topic 15 Top Words:
     Highest Prob: can, believ, democrat, street, work, like, administr 
     FREX: believ, can, street, democrat, like, work, administr 
     Lift: street, believ, can, like, democrat, exist, parti 
     Score: street, can, believ, democrat, like, parti, work 
\end{verbatim}

The correlation across the topics can also be visualized. Using the same
manifesto, topics 15, 1, 2, 6, 5 and 13 appear to be correlated. Two
topics (topic 1 and 2) can be compared wherein words are plotted with
size proportional to their use within the topic and the x-axis shows how
close the terms are to one topic over the other (y-axis is random).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{topic\_correlation}\OtherTok{\textless{}{-}}\FunctionTok{topicCorr}\NormalTok{(model\_list[[}\DecValTok{1}\NormalTok{]])}
\FunctionTok{plot}\NormalTok{(topic\_correlation)}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-15-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(model\_list[[}\DecValTok{1}\NormalTok{]], }
     \AttributeTok{type=}\StringTok{"perspectives"}\NormalTok{, }
     \AttributeTok{topics=}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{), }
     \AttributeTok{plabels =} \FunctionTok{c}\NormalTok{(}\StringTok{"Topic 1"}\NormalTok{,}\StringTok{"Topic 2"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-17-1.pdf}

In addition, the topic estimates of document-topic proportions is
plotted using 2012 Democrats' manifesto. This plot basically tells us
which topics are coming from which documents. As expected, each topic
has no relation or very little relation with several documents.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# plot(model\_list[[1]], type = "hist", topics = sample(1:15, size = 15))}
\FunctionTok{plot}\NormalTok{(model\_list[[}\DecValTok{1}\NormalTok{]], }\AttributeTok{type=}\StringTok{"hist"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-18-1.pdf}

Using \texttt{topicQuality}, the plot of semantic coherence
vs.~exclusivity of topics in the 2012 Democrats' manifesto is given
below. Semantic coherence measures how coherent topics are, or how often
terms describing a topic co-occur. Exclusivity measures how exclusive
topics are or how much they differ from each other and describe
different things.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{topicQuality}\NormalTok{(}\AttributeTok{model=}\NormalTok{model\_list[[}\DecValTok{1}\NormalTok{]], }\AttributeTok{documents=}\NormalTok{dfm\_stm\_list[[}\DecValTok{1}\NormalTok{]]}\SpecialCharTok{$}\NormalTok{documents)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
 [1] -136.3100 -194.6037 -175.9260 -145.0520 -197.9109 -161.7569 -150.6700
 [8] -148.0860 -147.1607 -189.5163 -133.6732 -208.2623 -174.3291 -217.2114
[15] -172.8444
 [1] 9.609207 9.669494 9.739603 9.702083 9.627720 9.625868 9.763253 9.671788
 [9] 9.756122 9.765698 9.705767 9.725709 9.680164 9.672155 9.838986
\end{verbatim}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-20-1.pdf}

\hypertarget{stm-topics-per-party-and-year}{%
\subsubsection{2. STM Topics per party and
year}\label{stm-topics-per-party-and-year}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#2c7fb8"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{5}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{1}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{5}\NormalTok{, }\AttributeTok{main =} \StringTok{"2012 Democrats"}\NormalTok{, }
         \AttributeTok{width=}\DecValTok{50}\NormalTok{, }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-23-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#de2d26"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{5}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{2}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{5}\NormalTok{, }\AttributeTok{main =} \StringTok{"2012 Republicans"}\NormalTok{, }
        \AttributeTok{width=}\DecValTok{50}\NormalTok{, }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-23-2.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#2c7fb8"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{5}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{3}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{5}\NormalTok{, }\AttributeTok{main =} \StringTok{"2016 Democrats"}\NormalTok{, }
         \AttributeTok{width=}\DecValTok{50}\NormalTok{, }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-23-3.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#de2d26"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{5}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{4}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{5}\NormalTok{, }\AttributeTok{main =} \StringTok{"2016 Republicans"}\NormalTok{, }
         \AttributeTok{width=}\DecValTok{50}\NormalTok{, }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-23-4.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#2c7fb8"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{5}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{5}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{5}\NormalTok{, }\AttributeTok{main =} \StringTok{"2020 Democrats"}\NormalTok{, }
         \AttributeTok{width=}\DecValTok{50}\NormalTok{, }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-23-5.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{par}\NormalTok{(}\AttributeTok{bty=}\StringTok{"n"}\NormalTok{,}\AttributeTok{col=}\StringTok{"\#de2d26"}\NormalTok{,}\AttributeTok{lwd=}\DecValTok{5}\NormalTok{)}
\FunctionTok{plot.STM}\NormalTok{(model\_list[[}\DecValTok{6}\NormalTok{]],}\AttributeTok{type=}\StringTok{"summary"}\NormalTok{, }\AttributeTok{label=}\StringTok{"frex"}\NormalTok{, }\AttributeTok{n =} \DecValTok{5}\NormalTok{, }\AttributeTok{main =} \StringTok{"2020 Republicans"}\NormalTok{, }
         \AttributeTok{width=}\DecValTok{50}\NormalTok{, }\AttributeTok{text.cex=}\NormalTok{.}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{text_as_data_ps2_files/figure-latex/unnamed-chunk-23-6.pdf}

\end{document}
